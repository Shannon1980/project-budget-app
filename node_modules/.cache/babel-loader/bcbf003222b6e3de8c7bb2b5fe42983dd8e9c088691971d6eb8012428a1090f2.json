{"ast":null,"code":"import _objectSpread from\"/workspace/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useRef,useState}from'react';import jsPDF from'jspdf';import autoTable from'jspdf-autotable';import{getState,putState}from'../api/client';import{DollarSign,Users,Clock,TrendingUp,FileText,Shield,HelpCircle,Lock,Save,X,Edit3}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectBudgetApp=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[loginForm,setLoginForm]=useState({email:'',password:'',rememberMe:false});const[loginError,setLoginError]=useState('');const[isLoading,setIsLoading]=useState(false);const[showForgotPassword,setShowForgotPassword]=useState(false);const[forgotPasswordEmail,setForgotPasswordEmail]=useState('');const[forgotPasswordStatus,setForgotPasswordStatus]=useState(null);const[activeTab,setActiveTab]=useState('overview');const[currentUser,setCurrentUser]=useState({id:1,name:'John Admin',email:'admin@company.com',role:'admin',avatar:'JA',permissions:{viewSalaries:true,editEmployees:true,viewFinancials:true,editFinancials:true,viewReports:true,manageUsers:true}});const mockUsers=[{id:1,name:'John Admin',email:'admin@company.com',password:'admin123',role:'admin',avatar:'JA',permissions:{viewSalaries:true,editEmployees:true,viewFinancials:true,editFinancials:true,viewReports:true,manageUsers:true}},{id:2,name:'Sarah Manager',email:'manager@company.com',password:'manager123',role:'manager',avatar:'SM',permissions:{viewSalaries:true,editEmployees:true,viewFinancials:true,editFinancials:false,viewReports:true,manageUsers:false}},{id:3,name:'Mike Employee',email:'employee@company.com',password:'employee123',role:'employee',avatar:'ME',permissions:{viewSalaries:false,editEmployees:false,viewFinancials:false,editFinancials:false,viewReports:true,manageUsers:false}}];const[employees,setEmployees]=useState([{id:1,name:'Shannon Gueringer',role:'PM',hourlyRate:96.15,actualHours:53,status:'active',isSubcontractor:false,compType:'hourly',annualSalary:0},{id:2,name:'Drew Hynes',role:'Developer',hourlyRate:96.15,actualHours:0,status:'inactive',isSubcontractor:false,compType:'hourly',annualSalary:0},{id:3,name:'Uyen Tran',role:'SA/Eng Lead',hourlyRate:84.13,actualHours:45,status:'active',isSubcontractor:false,compType:'hourly',annualSalary:0},{id:101,name:'Adrien Abrams',role:'Data Systems SME',hourlyRate:250,actualHours:20,status:'active',isSubcontractor:true,company:'BEELINE',compType:'hourly',annualSalary:0}]);const[projectData,setProjectData]=useState({contractValue:8079030,actualRevenue:5646737.62,totalBillableHours:26298.75,actualHoursToDate:26656.5,profitMargin:0.15,indirectCostRate:0.35});const[teamQuery,setTeamQuery]=useState('');const[teamFilters,setTeamFilters]=useState({status:'all',type:'all'});const[teamSort,setTeamSort]=useState({field:'name',direction:'asc'});const[forecast,setForecast]=useState({months:6,monthlyRevenue:900000,laborUtilization:0.85,subcontractorShare:employees.filter(e=>e.isSubcontractor).length/Math.max(1,employees.length),annualRaisePct:0.03,mode:'simple',roleAdjustments:{}});const apiAvailableRef=useRef(false);const saveTimerRef=useRef(null);const scheduleSave=()=>{if(!apiAvailableRef.current)return;if(saveTimerRef.current){clearTimeout(saveTimerRef.current);}saveTimerRef.current=setTimeout(async()=>{try{await putState({id:1,employees,projectData,forecast});}catch(_unused){}},500);};// Persist and hydrate from localStorage\nuseEffect(()=>{(async()=>{try{const serverState=await getState();if(serverState!==null&&serverState!==void 0&&serverState.employees)setEmployees(serverState.employees);if(serverState!==null&&serverState!==void 0&&serverState.projectData)setProjectData(serverState.projectData);if(serverState!==null&&serverState!==void 0&&serverState.forecast)setForecast(prev=>_objectSpread(_objectSpread({},prev),serverState.forecast));apiAvailableRef.current=true;}catch(_unused2){try{const emp=localStorage.getItem('pb_employees');const proj=localStorage.getItem('pb_project');const f=localStorage.getItem('pb_forecast');if(emp)setEmployees(JSON.parse(emp));if(proj)setProjectData(JSON.parse(proj));if(f)setForecast(prev=>_objectSpread(_objectSpread({},prev),JSON.parse(f)));}catch(_unused3){}}})();},[]);useEffect(()=>{try{localStorage.setItem('pb_employees',JSON.stringify(employees));}catch(_unused4){}scheduleSave();},[employees]);useEffect(()=>{try{localStorage.setItem('pb_project',JSON.stringify(projectData));}catch(_unused5){}scheduleSave();},[projectData]);useEffect(()=>{try{localStorage.setItem('pb_forecast',JSON.stringify(forecast));}catch(_unused6){}scheduleSave();},[forecast]);const hasPermission=permission=>{var _currentUser$permissi;return(currentUser===null||currentUser===void 0?void 0:(_currentUser$permissi=currentUser.permissions)===null||_currentUser$permissi===void 0?void 0:_currentUser$permissi[permission])||false;};const formatCurrency=amount=>new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',minimumFractionDigits:0,maximumFractionDigits:0}).format(amount||0);const handleLogin=async()=>{setIsLoading(true);setLoginError('');await new Promise(r=>setTimeout(r,600));const user=mockUsers.find(u=>u.email===loginForm.email&&u.password===loginForm.password);if(user){setCurrentUser(user);setIsLoggedIn(true);setLoginForm({email:'',password:'',rememberMe:false});}else{setLoginError('Invalid email or password');}setIsLoading(false);};const handleLogout=()=>{setCurrentUser(null);setIsLoggedIn(false);setActiveTab('overview');};const handleForgotPassword=async()=>{setIsLoading(true);await new Promise(r=>setTimeout(r,800));const userExists=mockUsers.find(u=>u.email===forgotPasswordEmail);if(userExists){setForgotPasswordStatus({type:'success',message:'Password reset instructions sent to your email'});}else{setForgotPasswordStatus({type:'error',message:'No account found with this email address'});}setIsLoading(false);setTimeout(()=>{if(userExists){setShowForgotPassword(false);setForgotPasswordStatus(null);setForgotPasswordEmail('');}},2500);};const calculateMetrics=()=>{const directEmployees=employees.filter(emp=>!emp.isSubcontractor);const subcontractors=employees.filter(emp=>emp.isSubcontractor);const totalDirectLabor=directEmployees.reduce((sum,emp)=>sum+emp.actualHours*(emp.hourlyRate||0),0);const totalSubcontractorLabor=subcontractors.reduce((sum,emp)=>sum+emp.actualHours*(emp.hourlyRate||0),0);const indirectCosts=totalDirectLabor*projectData.indirectCostRate;const totalCosts=totalDirectLabor+totalSubcontractorLabor+indirectCosts;const profit=(projectData.actualRevenue||0)-totalCosts;return{totalDirectLabor,totalSubcontractorLabor,indirectCosts,totalCosts,profit};};const metrics=calculateMetrics();const handleSaveEmployee=(id,field,value)=>{setEmployees(prev=>prev.map(emp=>emp.id===id?_objectSpread(_objectSpread({},emp),{},{[field]:value}):emp));};const downloadCSV=(rows,filename)=>{const escape=val=>{if(val==null)return'';const s=String(val).replace(/\"/g,'\"\"');return /[\",\\n]/.test(s)?'\"'+s+'\"':s;};const csv=rows.map(r=>r.map(escape).join(',')).join('\\n');const blob=new Blob([csv],{type:'text/csv;charset=utf-8;'});const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.setAttribute('download',filename);document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);};const visibleEmployees=useMemo(()=>{const normalizedQuery=teamQuery.trim().toLowerCase();let result=employees.filter(emp=>{const matchesQuery=!normalizedQuery||emp.name.toLowerCase().includes(normalizedQuery)||(emp.role||'').toLowerCase().includes(normalizedQuery)||(emp.company||'').toLowerCase().includes(normalizedQuery);const matchesStatus=teamFilters.status==='all'||emp.status===teamFilters.status;const matchesType=teamFilters.type==='all'||(teamFilters.type==='employee'?!emp.isSubcontractor:emp.isSubcontractor);return matchesQuery&&matchesStatus&&matchesType;});const dir=teamSort.direction==='asc'?1:-1;result.sort((a,b)=>{switch(teamSort.field){case'role':return dir*String(a.role||'').localeCompare(String(b.role||''));case'type':return dir*(Number(a.isSubcontractor)-Number(b.isSubcontractor));case'hourlyRate':return dir*((a.hourlyRate||0)-(b.hourlyRate||0));case'annualSalary':return dir*((a.annualSalary||0)-(b.annualSalary||0));case'actualHours':return dir*((a.actualHours||0)-(b.actualHours||0));case'status':return dir*String(a.status||'').localeCompare(String(b.status||''));default:return dir*String(a.name||'').localeCompare(String(b.name||''));}});return result;},[employees,teamQuery,teamFilters,teamSort]);const forecastRows=useMemo(()=>{const months=forecast.months;const hoursPerMonth=160;const rows=[];if(forecast.mode==='role'){const roles=Array.from(new Set(employees.map(e=>e.role||'Unknown')));// Precompute avg rates per role for direct and subs\nconst roleStats=roles.reduce((acc,role)=>{const group=employees.filter(e=>(e.role||'Unknown')===role);const directs=group.filter(e=>!e.isSubcontractor);const subs=group.filter(e=>e.isSubcontractor);const directAvgRate=directs.length?directs.reduce((s,e)=>s+(e.hourlyRate||0),0)/directs.length:0;const subAvgRate=subs.length?subs.reduce((s,e)=>s+(e.hourlyRate||0),0)/subs.length:0;const headcount=group.length;acc[role]={directAvgRate,subAvgRate,headcount,directCount:directs.length,subCount:subs.length};return acc;},{});for(let i=1;i<=months;i++){let directLabor=0;let subcontractorLabor=0;roles.forEach(role=>{var _forecast$roleAdjustm,_adj$utilization,_adj$headcount,_adj$subcontractorSha;const adj=((_forecast$roleAdjustm=forecast.roleAdjustments)===null||_forecast$roleAdjustm===void 0?void 0:_forecast$roleAdjustm[role])||{};const utilization=(_adj$utilization=adj.utilization)!==null&&_adj$utilization!==void 0?_adj$utilization:forecast.laborUtilization;const headcount=(_adj$headcount=adj.headcount)!==null&&_adj$headcount!==void 0?_adj$headcount:roleStats[role].headcount;const subShare=(_adj$subcontractorSha=adj.subcontractorShare)!==null&&_adj$subcontractorSha!==void 0?_adj$subcontractorSha:roleStats[role].subCount/Math.max(1,roleStats[role].headcount);const roleHours=headcount*hoursPerMonth*utilization;const subHours=roleHours*subShare;const directHours=roleHours-subHours;const roleDirectLabor=directHours*roleStats[role].directAvgRate;const roleSubLabor=subHours*roleStats[role].subAvgRate;directLabor+=roleDirectLabor;subcontractorLabor+=roleSubLabor;});const indirect=directLabor*projectData.indirectCostRate;const total=directLabor+subcontractorLabor+indirect;const revenue=forecast.monthlyRevenue;const profit=revenue-total;rows.push({month:i,revenue,directLabor,subcontractorLabor,indirect,total,profit});}return rows;}// Simple mode\nconst direct=employees.filter(e=>!e.isSubcontractor);const subs=employees.filter(e=>e.isSubcontractor);const directAvgRate=direct.length?direct.reduce((s,e)=>s+(e.hourlyRate||0),0)/direct.length:0;const subAvgRate=subs.length?subs.reduce((s,e)=>s+(e.hourlyRate||0),0)/subs.length:0;const totalHeadcount=employees.length;for(let i=1;i<=months;i++){const totalHours=totalHeadcount*hoursPerMonth*forecast.laborUtilization;const subHours=totalHours*forecast.subcontractorShare;const directHours=totalHours-subHours;const directLabor=directHours*directAvgRate;const subcontractorLabor=subHours*subAvgRate;const indirect=directLabor*projectData.indirectCostRate;const total=directLabor+subcontractorLabor+indirect;const revenue=forecast.monthlyRevenue;const profit=revenue-total;rows.push({month:i,revenue,directLabor,subcontractorLabor,indirect,total,profit});}return rows;},[forecast,employees,projectData.indirectCostRate]);// PDF helpers\nconst exportFinancialSummaryPDF=()=>{const doc=new jsPDF();doc.text('Financial Summary',14,16);autoTable(doc,{startY:22,head:[['Metric','Value']],body:[['Contract Value',formatCurrency(projectData.contractValue)],['Actual Revenue',formatCurrency(projectData.actualRevenue)],['Total Billable Hours',projectData.totalBillableHours],['Direct Labor',formatCurrency(metrics.totalDirectLabor)],['Subcontractor Labor',formatCurrency(metrics.totalSubcontractorLabor)],['Indirect Costs',formatCurrency(metrics.indirectCosts)],['Total Costs',formatCurrency(metrics.totalCosts)],['Profit',formatCurrency(metrics.profit)]]});doc.save('financial-summary.pdf');};const exportTeamUtilizationPDF=()=>{const doc=new jsPDF();doc.text('Team Utilization',14,16);autoTable(doc,{startY:22,head:[['Name','Role','Type','Hourly Rate','Actual Hours','Labor Cost']],body:visibleEmployees.map(e=>[e.name,e.role,e.isSubcontractor?'Contractor':'Employee',e.hourlyRate,e.actualHours,Math.round((e.hourlyRate||0)*(e.actualHours||0))])});doc.save('team-utilization.pdf');};const exportBudgetVsActualPDF=()=>{const doc=new jsPDF();doc.text('Budget vs Actual',14,16);autoTable(doc,{startY:22,head:[['Category','Budget','Actual']],body:[['Revenue',formatCurrency(projectData.contractValue),formatCurrency(projectData.actualRevenue)],['Direct Labor','',formatCurrency(metrics.totalDirectLabor)],['Subcontractor Labor','',formatCurrency(metrics.totalSubcontractorLabor)],['Indirect Costs','',formatCurrency(metrics.indirectCosts)],['Total Costs','',formatCurrency(metrics.totalCosts)],['Profit','',formatCurrency(metrics.profit)]]});doc.save('budget-vs-actual.pdf');};// Tab button (fixed to use setActiveTab)\nconst TabButton=_ref=>{let{id,label,icon:Icon}=_ref;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(id),className:\"flex items-center space-x-3 px-6 py-3 rounded-xl font-medium transition-all duration-200 \".concat(activeTab===id?'bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105':'bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-900 shadow-sm border border-gray-200'),children:[/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:label})]});};const StatusBadge=_ref2=>{let{status,variant='default'}=_ref2;const variants={success:'bg-green-100 text-green-800 border-green-200',warning:'bg-yellow-100 text-yellow-800 border-yellow-200',danger:'bg-red-100 text-red-800 border-red-200',info:'bg-blue-100 text-blue-800 border-blue-200',default:'bg-gray-100 text-gray-800 border-gray-200'};return/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-semibold border \".concat(variants[variant]),children:status});};const EditableField=_ref3=>{let{value,onSave,type='text'}=_ref3;const[editing,setEditing]=useState(false);const[tempValue,setTempValue]=useState(value);const handleSave=()=>{if(onSave)onSave(type==='number'?parseFloat(tempValue)||0:tempValue);setEditing(false);};if(!onSave){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:type==='currency'?formatCurrency(value):String(value)}),/*#__PURE__*/_jsx(Lock,{size:14,className:\"text-gray-300\"})]});}if(editing){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:type,value:tempValue,onChange:e=>setTempValue(e.target.value),className:\"px-2 py-1 border rounded text-sm w-24\",autoFocus:true,onKeyPress:e=>e.key==='Enter'&&handleSave()}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"text-green-600 hover:text-green-800\",children:/*#__PURE__*/_jsx(Save,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditing(false),className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(X,{size:14})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:type==='currency'?formatCurrency(value):String(value)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditing(true),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(Edit3,{size:14})})]});};if(!isLoggedIn){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-3xl shadow-2xl overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"text-white\",size:32})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:\"Budget Manager\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 mt-2\",children:\"Project Financial Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[!showForgotPassword?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:loginForm.email,onChange:e=>setLoginForm(_objectSpread(_objectSpread({},loginForm),{},{email:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:loginForm.password,onChange:e=>setLoginForm(_objectSpread(_objectSpread({},loginForm),{},{password:e.target.value})),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter your password\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:loginForm.rememberMe,onChange:e=>setLoginForm(_objectSpread(_objectSpread({},loginForm),{},{rememberMe:e.target.checked})),className:\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowForgotPassword(true),className:\"text-sm text-blue-600 hover:text-blue-700 font-medium\",children:\"Forgot password?\"})]}),loginError&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-xl text-sm\",children:loginError}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,disabled:isLoading,className:\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Signing in...\"})]}):'Sign In'})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowForgotPassword(false),className:\"flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-6\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Back to login\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900 mb-2\",children:\"Forgot Password\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Enter your email address and we'll send you instructions to reset your password.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-700 mb-2\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:forgotPasswordEmail,onChange:e=>setForgotPasswordEmail(e.target.value),className:\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent\",placeholder:\"Enter your email\",required:true})]}),forgotPasswordStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 rounded-xl text-sm \".concat(forgotPasswordStatus.type==='success'?'bg-green-50 border border-green-200 text-green-800':'bg-red-50 border border-red-200 text-red-800'),children:forgotPasswordStatus.message}),/*#__PURE__*/_jsx(\"button\",{onClick:handleForgotPassword,disabled:isLoading,className:\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sending...\"})]}):'Send Reset Instructions'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 p-4 bg-gray-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-700 mb-3\",children:\"Demo Credentials:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-xs text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Admin:\"}),\" admin@company.com / admin123\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Manager:\"}),\" manager@company.com / manager123\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Employee:\"}),\" employee@company.com / employee123\"]})]})]})]})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b border-gray-200 sticky top-0 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"text-white\",size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Budget Manager\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"SEAS Project Dashboard\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 px-3 py-2 bg-gray-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold text-sm \".concat((currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'?'bg-blue-500':(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='manager'?'bg-green-500':'bg-gray-500'),children:currentUser===null||currentUser===void 0?void 0:currentUser.avatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:currentUser===null||currentUser===void 0?void 0:currentUser.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:currentUser===null||currentUser===void 0?void 0:currentUser.role})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors text-sm\",children:\"Logout\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 mb-8 overflow-x-auto pb-2\",children:[/*#__PURE__*/_jsx(TabButton,{id:\"overview\",label:\"Overview\",icon:TrendingUp}),/*#__PURE__*/_jsx(TabButton,{id:\"employees\",label:\"Team\",icon:Users}),hasPermission('viewFinancials')&&/*#__PURE__*/_jsx(TabButton,{id:\"financials\",label:\"Financials\",icon:DollarSign}),hasPermission('viewReports')&&/*#__PURE__*/_jsx(TabButton,{id:\"reports\",label:\"Reports\",icon:FileText}),hasPermission('viewFinancials')&&/*#__PURE__*/_jsx(TabButton,{id:\"forecast\",label:\"Forecast\",icon:TrendingUp}),hasPermission('manageUsers')&&/*#__PURE__*/_jsx(TabButton,{id:\"admin\",label:\"Admin\",icon:Shield}),/*#__PURE__*/_jsx(TabButton,{id:\"help\",label:\"Help\",icon:HelpCircle})]}),activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(MetricCard,{title:\"Contract Value\",value:formatCurrency(projectData.contractValue),icon:DollarSign,color:\"from-blue-500 to-blue-600\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Actual Revenue\",value:formatCurrency(projectData.actualRevenue),icon:TrendingUp,color:\"from-emerald-500 to-green-600\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Total Hours\",value:projectData.actualHoursToDate.toLocaleString(),icon:Clock,color:\"from-purple-500 to-purple-600\"}),/*#__PURE__*/_jsx(MetricCard,{title:\"Active Team\",value:employees.filter(e=>e.status==='active').length,subtitle:\"\".concat(employees.filter(e=>!e.isSubcontractor&&e.status==='active').length,\" employees, \").concat(employees.filter(e=>e.isSubcontractor&&e.status==='active').length,\" contractors\"),icon:Users,color:\"from-orange-500 to-amber-600\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900\",children:\"Cost Breakdown\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Direct Labor\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:formatCurrency(metrics.totalDirectLabor)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Subcontractor Labor\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:formatCurrency(metrics.totalSubcontractorLabor)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Indirect Costs\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:formatCurrency(metrics.indirectCosts)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900\",children:\"Performance\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Total Costs\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:formatCurrency(metrics.totalCosts)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Profit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold \".concat(metrics.profit>=0?'text-green-600':'text-red-600'),children:formatCurrency(metrics.profit)})]})]})]})]})]}),activeTab==='employees'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Team Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1\",children:\"Manage your project team and contractors\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900\",children:\"Team Members\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-3 md:space-y-0\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:teamQuery,onChange:e=>setTeamQuery(e.target.value),placeholder:\"Search name, role, or company\",className:\"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded-lg text-sm\"}),/*#__PURE__*/_jsxs(\"select\",{value:teamFilters.status,onChange:e=>setTeamFilters(_objectSpread(_objectSpread({},teamFilters),{},{status:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:teamFilters.type,onChange:e=>setTeamFilters(_objectSpread(_objectSpread({},teamFilters),{},{type:e.target.value})),className:\"px-3 py-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"employee\",children:\"Employee\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contractor\",children:\"Contractor\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:\"\".concat(teamSort.field,\":\").concat(teamSort.direction),onChange:e=>{const[field,direction]=e.target.value.split(':');setTeamSort({field,direction});},className:\"px-3 py-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"name:asc\",children:\"Name (A\\u2192Z)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name:desc\",children:\"Name (Z\\u2192A)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"role:asc\",children:\"Role (A\\u2192Z)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"role:desc\",children:\"Role (Z\\u2192A)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"type:asc\",children:\"Type (Emp\\u2192Ctr)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"type:desc\",children:\"Type (Ctr\\u2192Emp)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"annualSalary:asc\",children:\"Salary (Low\\u2192High)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"annualSalary:desc\",children:\"Salary (High\\u2192Low)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hourlyRate:asc\",children:\"Rate (Low\\u2192High)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hourlyRate:desc\",children:\"Rate (High\\u2192Low)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"actualHours:asc\",children:\"Hours (Low\\u2192High)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"actualHours:desc\",children:\"Hours (High\\u2192Low)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"status:asc\",children:\"Status (A\\u2192Z)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"status:desc\",children:\"Status (Z\\u2192A)\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Comp Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Annual Salary\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Hourly Rate\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Actual Hours\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:visibleEmployees.map(employee=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold \".concat(employee.isSubcontractor?'bg-blue-500':'bg-emerald-500'),children:employee.name.split(' ').map(n=>n[0]).join('').slice(0,2)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EditableField,{value:employee.name,onSave:hasPermission('editEmployees')?value=>handleSaveEmployee(employee.id,'name',value):null}),employee.company&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:employee.company})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(EditableField,{value:employee.role,onSave:hasPermission('editEmployees')?value=>handleSaveEmployee(employee.id,'role',value):null})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"span\",{children:employee.isSubcontractor?'Contractor':'Employee'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-right\",children:hasPermission('viewSalaries')?/*#__PURE__*/_jsx(EditableField,{value:employee.compType||(employee.isSubcontractor?'hourly':'hourly'),onSave:hasPermission('editEmployees')?value=>handleSaveEmployee(employee.id,'compType',value):null,type:\"text\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"***\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-right\",children:hasPermission('viewSalaries')?/*#__PURE__*/_jsx(EditableField,{value:employee.annualSalary||0,onSave:hasPermission('editEmployees')?value=>handleSaveEmployee(employee.id,'annualSalary',value):null,type:\"number\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"***\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-right\",children:hasPermission('viewSalaries')?/*#__PURE__*/_jsx(EditableField,{value:employee.hourlyRate,onSave:hasPermission('editEmployees')?value=>handleSaveEmployee(employee.id,'hourlyRate',value):null,type:\"number\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"***\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-right\",children:/*#__PURE__*/_jsx(EditableField,{value:employee.actualHours,onSave:hasPermission('editEmployees')?value=>handleSaveEmployee(employee.id,'actualHours',value):null,type:\"number\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-center\",children:/*#__PURE__*/_jsx(StatusBadge,{status:employee.status,variant:employee.status==='active'?'success':'default'})})]},employee.id))})]})})]})]}),activeTab==='financials'&&hasPermission('viewFinancials')&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Financial Settings\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1\",children:\"Configure project financial parameters\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-6\",children:\"Project Financials\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-700 font-medium\",children:\"Contract Value\"}),/*#__PURE__*/_jsx(EditableField,{value:projectData.contractValue,onSave:hasPermission('editFinancials')?value=>setProjectData(_objectSpread(_objectSpread({},projectData),{},{contractValue:value})):null,type:\"currency\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-700 font-medium\",children:\"Actual Revenue\"}),/*#__PURE__*/_jsx(EditableField,{value:projectData.actualRevenue,onSave:hasPermission('editFinancials')?value=>setProjectData(_objectSpread(_objectSpread({},projectData),{},{actualRevenue:value})):null,type:\"currency\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-gray-700 font-medium\",children:\"Total Billable Hours\"}),/*#__PURE__*/_jsx(EditableField,{value:projectData.totalBillableHours,onSave:hasPermission('editFinancials')?value=>setProjectData(_objectSpread(_objectSpread({},projectData),{},{totalBillableHours:value})):null,type:\"number\"})]})]})]})]}),activeTab==='reports'&&hasPermission('viewReports')&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Project Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1\",children:\"Generate and export project reports\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(FileText,{className:\"text-blue-600\",size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900\",children:\"Financial Summary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"Complete financial overview\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const rows=[['Metric','Value'],['Contract Value',projectData.contractValue],['Actual Revenue',projectData.actualRevenue],['Total Billable Hours',projectData.totalBillableHours],['Direct Labor',metrics.totalDirectLabor],['Subcontractor Labor',metrics.totalSubcontractorLabor],['Indirect Costs',metrics.indirectCosts],['Total Costs',metrics.totalCosts],['Profit',metrics.profit]];downloadCSV(rows,'financial-summary.csv');},className:\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:\"CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:exportFinancialSummaryPDF,className:\"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors\",children:\"PDF\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(Users,{className:\"text-green-600\",size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900\",children:\"Team Utilization\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"Employee hours and productivity\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const header=['Name','Role','Type','Hourly Rate','Actual Hours','Labor Cost'];const rows=[header].concat(visibleEmployees.map(e=>[e.name,e.role,e.isSubcontractor?'Contractor':'Employee',e.hourlyRate,e.actualHours,Math.round((e.hourlyRate||0)*(e.actualHours||0))]));downloadCSV(rows,'team-utilization.csv');},className:\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\",children:\"CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:exportTeamUtilizationPDF,className:\"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors\",children:\"PDF\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"text-purple-600\",size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900\",children:\"Budget vs Actual\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"Performance analysis\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const rows=[['Category','Budget','Actual'],['Revenue',projectData.contractValue,projectData.actualRevenue],['Direct Labor','',metrics.totalDirectLabor],['Subcontractor Labor','',metrics.totalSubcontractorLabor],['Indirect Costs','',metrics.indirectCosts],['Total Costs','',metrics.totalCosts],['Profit','',metrics.profit]];downloadCSV(rows,'budget-vs-actual.csv');},className:\"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\",children:\"CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:exportBudgetVsActualPDF,className:\"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors\",children:\"PDF\"})]})]})]})]}),activeTab==='forecast'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Forecast\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1\",children:\"Model future budget scenarios\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex rounded-lg border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setForecast(_objectSpread(_objectSpread({},forecast),{},{mode:'simple'})),className:\"px-4 py-2 text-sm \".concat(forecast.mode==='simple'?'bg-gray-900 text-white':'bg-white text-gray-700'),children:\"Simple\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setForecast(_objectSpread(_objectSpread({},forecast),{},{mode:'role'})),className:\"px-4 py-2 text-sm \".concat(forecast.mode==='role'?'bg-gray-900 text-white':'bg-white text-gray-700'),children:\"By Role\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:\"Months\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:forecast.months,onChange:e=>setForecast(_objectSpread(_objectSpread({},forecast),{},{months:Math.max(1,parseInt(e.target.value||'1',10))})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:\"Monthly Revenue\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:forecast.monthlyRevenue,onChange:e=>setForecast(_objectSpread(_objectSpread({},forecast),{},{monthlyRevenue:parseFloat(e.target.value||'0')})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:\"Labor Utilization %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:Math.round(forecast.laborUtilization*100),onChange:e=>setForecast(_objectSpread(_objectSpread({},forecast),{},{laborUtilization:Math.min(1,Math.max(0,parseFloat(e.target.value||'0')/100))})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:\"Subcontractor Share %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:Math.round(forecast.subcontractorShare*100),onChange:e=>setForecast(_objectSpread(_objectSpread({},forecast),{},{subcontractorShare:Math.min(1,Math.max(0,parseFloat(e.target.value||'0')/100))})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs text-gray-500 mb-1\",children:\"Annual Raise %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:Math.round(forecast.annualRaisePct*100),onChange:e=>setForecast(_objectSpread(_objectSpread({},forecast),{},{annualRaisePct:Math.max(0,parseFloat(e.target.value||'0')/100)})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"})]})]}),forecast.mode==='role'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-gray-700 mb-2\",children:\"Role Adjustments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",children:Array.from(new Set(employees.map(e=>e.role||'Unknown'))).map(role=>{var _forecast$roleAdjustm2,_forecast$roleAdjustm3,_forecast$roleAdjustm4,_forecast$roleAdjustm6,_forecast$roleAdjustm7,_forecast$roleAdjustm8,_forecast$roleAdjustm0,_forecast$roleAdjustm1,_forecast$roleAdjustm10;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium text-gray-600 mb-2\",children:role}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500 w-28\",children:\"Headcount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"flex-1 px-2 py-1 border rounded text-sm\",value:(_forecast$roleAdjustm2=(_forecast$roleAdjustm3=forecast.roleAdjustments)===null||_forecast$roleAdjustm3===void 0?void 0:(_forecast$roleAdjustm4=_forecast$roleAdjustm3[role])===null||_forecast$roleAdjustm4===void 0?void 0:_forecast$roleAdjustm4.headcount)!==null&&_forecast$roleAdjustm2!==void 0?_forecast$roleAdjustm2:employees.filter(e=>(e.role||'Unknown')===role).length,onChange:e=>{var _forecast$roleAdjustm5;return setForecast(_objectSpread(_objectSpread({},forecast),{},{roleAdjustments:_objectSpread(_objectSpread({},forecast.roleAdjustments),{},{[role]:_objectSpread(_objectSpread({},((_forecast$roleAdjustm5=forecast.roleAdjustments)===null||_forecast$roleAdjustm5===void 0?void 0:_forecast$roleAdjustm5[role])||{}),{},{headcount:parseInt(e.target.value||'0',10)})})}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500 w-28\",children:\"Utilization %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"flex-1 px-2 py-1 border rounded text-sm\",value:Math.round(((_forecast$roleAdjustm6=(_forecast$roleAdjustm7=forecast.roleAdjustments)===null||_forecast$roleAdjustm7===void 0?void 0:(_forecast$roleAdjustm8=_forecast$roleAdjustm7[role])===null||_forecast$roleAdjustm8===void 0?void 0:_forecast$roleAdjustm8.utilization)!==null&&_forecast$roleAdjustm6!==void 0?_forecast$roleAdjustm6:forecast.laborUtilization)*100),onChange:e=>{var _forecast$roleAdjustm9;return setForecast(_objectSpread(_objectSpread({},forecast),{},{roleAdjustments:_objectSpread(_objectSpread({},forecast.roleAdjustments),{},{[role]:_objectSpread(_objectSpread({},((_forecast$roleAdjustm9=forecast.roleAdjustments)===null||_forecast$roleAdjustm9===void 0?void 0:_forecast$roleAdjustm9[role])||{}),{},{utilization:Math.min(1,Math.max(0,parseFloat(e.target.value||'0')/100))})})}));}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs text-gray-500 w-28\",children:\"Sub Share %\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"flex-1 px-2 py-1 border rounded text-sm\",value:Math.round(((_forecast$roleAdjustm0=(_forecast$roleAdjustm1=forecast.roleAdjustments)===null||_forecast$roleAdjustm1===void 0?void 0:(_forecast$roleAdjustm10=_forecast$roleAdjustm1[role])===null||_forecast$roleAdjustm10===void 0?void 0:_forecast$roleAdjustm10.subcontractorShare)!==null&&_forecast$roleAdjustm0!==void 0?_forecast$roleAdjustm0:employees.filter(e=>(e.role||'Unknown')===role&&e.isSubcontractor).length/Math.max(1,employees.filter(e=>(e.role||'Unknown')===role).length))*100),onChange:e=>{var _forecast$roleAdjustm11;return setForecast(_objectSpread(_objectSpread({},forecast),{},{roleAdjustments:_objectSpread(_objectSpread({},forecast.roleAdjustments),{},{[role]:_objectSpread(_objectSpread({},((_forecast$roleAdjustm11=forecast.roleAdjustments)===null||_forecast$roleAdjustm11===void 0?void 0:_forecast$roleAdjustm11[role])||{}),{},{subcontractorShare:Math.min(1,Math.max(0,parseFloat(e.target.value||'0')/100))})})}));}})]})]},role);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase\",children:\"Month\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Revenue\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Direct Labor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Subcontractors\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Indirect\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Total Cost\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\",children:\"Profit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:forecastRows.map(r=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3\",children:r.month}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-right\",children:formatCurrency(r.revenue)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-right\",children:formatCurrency(r.directLabor)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-right\",children:formatCurrency(r.subcontractorLabor)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-right\",children:formatCurrency(r.indirect)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-right\",children:formatCurrency(r.total)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 text-right\",children:formatCurrency(r.profit)})]},r.month))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const header=['Month','Revenue','Direct Labor','Subcontractors','Indirect','Total Cost','Profit'];const rows=[header].concat(forecastRows.map(r=>[r.month,r.revenue,r.directLabor,r.subcontractorLabor,r.indirect,r.total,r.profit]));downloadCSV(rows,'forecast.csv');},className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\",children:\"Export Forecast CSV\"})})]})]}),activeTab==='admin'&&hasPermission('manageUsers')&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"System Administration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1\",children:\"Manage users, permissions, and system settings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"User Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:mockUsers.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold \".concat(user.role==='admin'?'bg-blue-500':user.role==='manager'?'bg-green-500':'bg-gray-500'),children:user.avatar}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:user.email})]})]}),/*#__PURE__*/_jsx(StatusBadge,{status:user.role,variant:\"info\"})]},user.id))})]})]}),activeTab==='help'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900\",children:\"Help & Documentation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1\",children:\"Get help with using the budget management system\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"User Roles & Permissions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Admin:\"}),\" Full access to all features including user management\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Manager:\"}),\" Can view salaries and edit employees, but can't edit financial settings\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Employee:\"}),\" Limited view-only access to reports and basic information\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:\"\\uD83D\\uDCCA Understanding Financial Metrics\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:\"\\uD83D\\uDC65 Managing Team Members\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:\"\\uD83D\\uDD10 User Permissions Guide\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\",children:\"\\u2699\\uFE0F System Configuration\"})]})]})]})]})]})]});};const TabButton=_ref4=>{let{id,label,icon:Icon}=_ref4;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _window$__setActiveTa,_window;return(_window$__setActiveTa=(_window=window).__setActiveTab)===null||_window$__setActiveTa===void 0?void 0:_window$__setActiveTa.call(_window,id);},className:\"flex items-center space-x-3 px-6 py-3 rounded-xl font-medium transition-all duration-200\",children:[/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:label})]});};const MetricCard=_ref5=>{let{title,value,subtitle,icon:Icon,color}=_ref5;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br \".concat(color,\" p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm font-medium\",children:title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-2xl font-bold mt-1\",children:value}),subtitle&&/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-xs mt-1\",children:subtitle})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/20 p-3 rounded-xl\",children:/*#__PURE__*/_jsx(Icon,{size:28,className:\"text-white\"})})]})});};export default ProjectBudgetApp;","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsPDF","autoTable","getState","putState","DollarSign","Users","Clock","TrendingUp","FileText","Shield","HelpCircle","Lock","Save","X","Edit3","jsx","_jsx","jsxs","_jsxs","ProjectBudgetApp","isLoggedIn","setIsLoggedIn","loginForm","setLoginForm","email","password","rememberMe","loginError","setLoginError","isLoading","setIsLoading","showForgotPassword","setShowForgotPassword","forgotPasswordEmail","setForgotPasswordEmail","forgotPasswordStatus","setForgotPasswordStatus","activeTab","setActiveTab","currentUser","setCurrentUser","id","name","role","avatar","permissions","viewSalaries","editEmployees","viewFinancials","editFinancials","viewReports","manageUsers","mockUsers","employees","setEmployees","hourlyRate","actualHours","status","isSubcontractor","compType","annualSalary","company","projectData","setProjectData","contractValue","actualRevenue","totalBillableHours","actualHoursToDate","profitMargin","indirectCostRate","teamQuery","setTeamQuery","teamFilters","setTeamFilters","type","teamSort","setTeamSort","field","direction","forecast","setForecast","months","monthlyRevenue","laborUtilization","subcontractorShare","filter","e","length","Math","max","annualRaisePct","mode","roleAdjustments","apiAvailableRef","saveTimerRef","scheduleSave","current","clearTimeout","setTimeout","_unused","serverState","prev","_objectSpread","_unused2","emp","localStorage","getItem","proj","f","JSON","parse","_unused3","setItem","stringify","_unused4","_unused5","_unused6","hasPermission","permission","_currentUser$permissi","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","handleLogin","Promise","r","user","find","u","handleLogout","handleForgotPassword","userExists","message","calculateMetrics","directEmployees","subcontractors","totalDirectLabor","reduce","sum","totalSubcontractorLabor","indirectCosts","totalCosts","profit","metrics","handleSaveEmployee","value","map","downloadCSV","rows","filename","escape","val","s","String","replace","test","csv","join","blob","Blob","url","URL","createObjectURL","link","document","createElement","href","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","visibleEmployees","normalizedQuery","trim","toLowerCase","result","matchesQuery","includes","matchesStatus","matchesType","dir","sort","a","b","localeCompare","Number","forecastRows","hoursPerMonth","roles","Array","from","Set","roleStats","acc","group","directs","subs","directAvgRate","subAvgRate","headcount","directCount","subCount","i","directLabor","subcontractorLabor","forEach","_forecast$roleAdjustm","_adj$utilization","_adj$headcount","_adj$subcontractorSha","adj","utilization","subShare","roleHours","subHours","directHours","roleDirectLabor","roleSubLabor","indirect","total","revenue","push","month","direct","totalHeadcount","totalHours","exportFinancialSummaryPDF","doc","text","startY","head","save","exportTeamUtilizationPDF","round","exportBudgetVsActualPDF","TabButton","_ref","label","icon","Icon","onClick","className","concat","children","size","StatusBadge","_ref2","variant","variants","success","warning","danger","info","default","EditableField","_ref3","onSave","editing","setEditing","tempValue","setTempValue","handleSave","parseFloat","onChange","target","autoFocus","onKeyPress","key","placeholder","required","checked","disabled","MetricCard","title","color","toLocaleString","subtitle","split","employee","n","slice","header","min","parseInt","_forecast$roleAdjustm2","_forecast$roleAdjustm3","_forecast$roleAdjustm4","_forecast$roleAdjustm6","_forecast$roleAdjustm7","_forecast$roleAdjustm8","_forecast$roleAdjustm0","_forecast$roleAdjustm1","_forecast$roleAdjustm10","_forecast$roleAdjustm5","_forecast$roleAdjustm9","_forecast$roleAdjustm11","_ref4","_window$__setActiveTa","_window","window","__setActiveTab","call","_ref5"],"sources":["/workspace/src/Components/project-budget-component-file.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport { getState, putState } from '../api/client';\nimport { DollarSign, Users, Clock, TrendingUp, FileText, Shield, HelpCircle, Lock, Save, X, Edit3 } from 'lucide-react';\n\nconst ProjectBudgetApp = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loginForm, setLoginForm] = useState({ email: '', password: '', rememberMe: false });\n  const [loginError, setLoginError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [forgotPasswordEmail, setForgotPasswordEmail] = useState('');\n  const [forgotPasswordStatus, setForgotPasswordStatus] = useState(null);\n  const [activeTab, setActiveTab] = useState('overview');\n  const [currentUser, setCurrentUser] = useState({\n    id: 1,\n    name: 'John Admin',\n    email: 'admin@company.com',\n    role: 'admin',\n    avatar: 'JA',\n    permissions: {\n      viewSalaries: true,\n      editEmployees: true,\n      viewFinancials: true,\n      editFinancials: true,\n      viewReports: true,\n      manageUsers: true\n    }\n  });\n\n  const mockUsers = [\n    {\n      id: 1,\n      name: 'John Admin',\n      email: 'admin@company.com',\n      password: 'admin123',\n      role: 'admin',\n      avatar: 'JA',\n      permissions: {\n        viewSalaries: true,\n        editEmployees: true,\n        viewFinancials: true,\n        editFinancials: true,\n        viewReports: true,\n        manageUsers: true\n      }\n    },\n    {\n      id: 2,\n      name: 'Sarah Manager',\n      email: 'manager@company.com',\n      password: 'manager123',\n      role: 'manager',\n      avatar: 'SM',\n      permissions: {\n        viewSalaries: true,\n        editEmployees: true,\n        viewFinancials: true,\n        editFinancials: false,\n        viewReports: true,\n        manageUsers: false\n      }\n    },\n    {\n      id: 3,\n      name: 'Mike Employee',\n      email: 'employee@company.com',\n      password: 'employee123',\n      role: 'employee',\n      avatar: 'ME',\n      permissions: {\n        viewSalaries: false,\n        editEmployees: false,\n        viewFinancials: false,\n        editFinancials: false,\n        viewReports: true,\n        manageUsers: false\n      }\n    }\n  ];\n\n  const [employees, setEmployees] = useState([\n    { id: 1, name: 'Shannon Gueringer', role: 'PM', hourlyRate: 96.15, actualHours: 53, status: 'active', isSubcontractor: false, compType: 'hourly', annualSalary: 0 },\n    { id: 2, name: 'Drew Hynes', role: 'Developer', hourlyRate: 96.15, actualHours: 0, status: 'inactive', isSubcontractor: false, compType: 'hourly', annualSalary: 0 },\n    { id: 3, name: 'Uyen Tran', role: 'SA/Eng Lead', hourlyRate: 84.13, actualHours: 45, status: 'active', isSubcontractor: false, compType: 'hourly', annualSalary: 0 },\n    { id: 101, name: 'Adrien Abrams', role: 'Data Systems SME', hourlyRate: 250, actualHours: 20, status: 'active', isSubcontractor: true, company: 'BEELINE', compType: 'hourly', annualSalary: 0 }\n  ]);\n\n  const [projectData, setProjectData] = useState({\n    contractValue: 8079030,\n    actualRevenue: 5646737.62,\n    totalBillableHours: 26298.75,\n    actualHoursToDate: 26656.5,\n    profitMargin: 0.15,\n    indirectCostRate: 0.35\n  });\n\n  const [teamQuery, setTeamQuery] = useState('');\n  const [teamFilters, setTeamFilters] = useState({ status: 'all', type: 'all' });\n  const [teamSort, setTeamSort] = useState({ field: 'name', direction: 'asc' });\n\n  const [forecast, setForecast] = useState({\n    months: 6,\n    monthlyRevenue: 900000,\n    laborUtilization: 0.85,\n    subcontractorShare: employees.filter(e => e.isSubcontractor).length / Math.max(1, employees.length),\n    annualRaisePct: 0.03,\n    mode: 'simple',\n    roleAdjustments: {}\n  });\n  const apiAvailableRef = useRef(false);\n  const saveTimerRef = useRef(null);\n\n  const scheduleSave = () => {\n    if (!apiAvailableRef.current) return;\n    if (saveTimerRef.current) {\n      clearTimeout(saveTimerRef.current);\n    }\n    saveTimerRef.current = setTimeout(async () => {\n      try {\n        await putState({ id: 1, employees, projectData, forecast });\n      } catch {}\n    }, 500);\n  };\n\n  // Persist and hydrate from localStorage\n  useEffect(() => {\n    (async () => {\n      try {\n        const serverState = await getState();\n        if (serverState?.employees) setEmployees(serverState.employees);\n        if (serverState?.projectData) setProjectData(serverState.projectData);\n        if (serverState?.forecast) setForecast(prev => ({ ...prev, ...serverState.forecast }));\n        apiAvailableRef.current = true;\n      } catch {\n        try {\n          const emp = localStorage.getItem('pb_employees');\n          const proj = localStorage.getItem('pb_project');\n          const f = localStorage.getItem('pb_forecast');\n          if (emp) setEmployees(JSON.parse(emp));\n          if (proj) setProjectData(JSON.parse(proj));\n          if (f) setForecast(prev => ({ ...prev, ...JSON.parse(f) }));\n        } catch {}\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    try { localStorage.setItem('pb_employees', JSON.stringify(employees)); } catch {}\n    scheduleSave();\n  }, [employees]);\n\n  useEffect(() => {\n    try { localStorage.setItem('pb_project', JSON.stringify(projectData)); } catch {}\n    scheduleSave();\n  }, [projectData]);\n\n  useEffect(() => {\n    try { localStorage.setItem('pb_forecast', JSON.stringify(forecast)); } catch {}\n    scheduleSave();\n  }, [forecast]);\n\n  const hasPermission = (permission) => currentUser?.permissions?.[permission] || false;\n\n  const formatCurrency = (amount) => new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0\n  }).format(amount || 0);\n\n  const handleLogin = async () => {\n    setIsLoading(true);\n    setLoginError('');\n    await new Promise(r => setTimeout(r, 600));\n    const user = mockUsers.find(u => u.email === loginForm.email && u.password === loginForm.password);\n    if (user) {\n      setCurrentUser(user);\n      setIsLoggedIn(true);\n      setLoginForm({ email: '', password: '', rememberMe: false });\n    } else {\n      setLoginError('Invalid email or password');\n    }\n    setIsLoading(false);\n  };\n\n  const handleLogout = () => {\n    setCurrentUser(null);\n    setIsLoggedIn(false);\n    setActiveTab('overview');\n  };\n\n  const handleForgotPassword = async () => {\n    setIsLoading(true);\n    await new Promise(r => setTimeout(r, 800));\n    const userExists = mockUsers.find(u => u.email === forgotPasswordEmail);\n    if (userExists) {\n      setForgotPasswordStatus({ type: 'success', message: 'Password reset instructions sent to your email' });\n    } else {\n      setForgotPasswordStatus({ type: 'error', message: 'No account found with this email address' });\n    }\n    setIsLoading(false);\n    setTimeout(() => {\n      if (userExists) {\n        setShowForgotPassword(false);\n        setForgotPasswordStatus(null);\n        setForgotPasswordEmail('');\n      }\n    }, 2500);\n  };\n\n  const calculateMetrics = () => {\n    const directEmployees = employees.filter(emp => !emp.isSubcontractor);\n    const subcontractors = employees.filter(emp => emp.isSubcontractor);\n    const totalDirectLabor = directEmployees.reduce((sum, emp) => sum + (emp.actualHours * (emp.hourlyRate || 0)), 0);\n    const totalSubcontractorLabor = subcontractors.reduce((sum, emp) => sum + (emp.actualHours * (emp.hourlyRate || 0)), 0);\n    const indirectCosts = totalDirectLabor * projectData.indirectCostRate;\n    const totalCosts = totalDirectLabor + totalSubcontractorLabor + indirectCosts;\n    const profit = (projectData.actualRevenue || 0) - totalCosts;\n    return { totalDirectLabor, totalSubcontractorLabor, indirectCosts, totalCosts, profit };\n  };\n\n  const metrics = calculateMetrics();\n\n  const handleSaveEmployee = (id, field, value) => {\n    setEmployees(prev => prev.map(emp => emp.id === id ? { ...emp, [field]: value } : emp));\n  };\n\n  const downloadCSV = (rows, filename) => {\n    const escape = (val) => {\n      if (val == null) return '';\n      const s = String(val).replace(/\"/g, '\"\"');\n      return /[\",\\n]/.test(s) ? '\"' + s + '\"' : s;\n    };\n    const csv = rows.map(r => r.map(escape).join(',')).join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', filename);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  const visibleEmployees = useMemo(() => {\n    const normalizedQuery = teamQuery.trim().toLowerCase();\n    let result = employees.filter(emp => {\n      const matchesQuery = !normalizedQuery || (\n        emp.name.toLowerCase().includes(normalizedQuery) ||\n        (emp.role || '').toLowerCase().includes(normalizedQuery) ||\n        (emp.company || '').toLowerCase().includes(normalizedQuery)\n      );\n      const matchesStatus = teamFilters.status === 'all' || emp.status === teamFilters.status;\n      const matchesType = teamFilters.type === 'all' || (teamFilters.type === 'employee' ? !emp.isSubcontractor : emp.isSubcontractor);\n      return matchesQuery && matchesStatus && matchesType;\n    });\n    const dir = teamSort.direction === 'asc' ? 1 : -1;\n    result.sort((a, b) => {\n      switch (teamSort.field) {\n        case 'role':\n          return dir * String(a.role || '').localeCompare(String(b.role || ''));\n        case 'type':\n          return dir * (Number(a.isSubcontractor) - Number(b.isSubcontractor));\n        case 'hourlyRate':\n          return dir * ((a.hourlyRate || 0) - (b.hourlyRate || 0));\n        case 'annualSalary':\n          return dir * ((a.annualSalary || 0) - (b.annualSalary || 0));\n        case 'actualHours':\n          return dir * ((a.actualHours || 0) - (b.actualHours || 0));\n        case 'status':\n          return dir * String(a.status || '').localeCompare(String(b.status || ''));\n        default:\n          return dir * String(a.name || '').localeCompare(String(b.name || ''));\n      }\n    });\n    return result;\n  }, [employees, teamQuery, teamFilters, teamSort]);\n\n  const forecastRows = useMemo(() => {\n    const months = forecast.months;\n    const hoursPerMonth = 160;\n    const rows = [];\n\n    if (forecast.mode === 'role') {\n      const roles = Array.from(new Set(employees.map(e => e.role || 'Unknown')));\n      // Precompute avg rates per role for direct and subs\n      const roleStats = roles.reduce((acc, role) => {\n        const group = employees.filter(e => (e.role || 'Unknown') === role);\n        const directs = group.filter(e => !e.isSubcontractor);\n        const subs = group.filter(e => e.isSubcontractor);\n        const directAvgRate = directs.length ? directs.reduce((s, e) => s + (e.hourlyRate || 0), 0) / directs.length : 0;\n        const subAvgRate = subs.length ? subs.reduce((s, e) => s + (e.hourlyRate || 0), 0) / subs.length : 0;\n        const headcount = group.length;\n        acc[role] = { directAvgRate, subAvgRate, headcount, directCount: directs.length, subCount: subs.length };\n        return acc;\n      }, {});\n\n      for (let i = 1; i <= months; i++) {\n        let directLabor = 0;\n        let subcontractorLabor = 0;\n        roles.forEach(role => {\n          const adj = forecast.roleAdjustments?.[role] || {};\n          const utilization = (adj.utilization ?? forecast.laborUtilization);\n          const headcount = (adj.headcount ?? roleStats[role].headcount);\n          const subShare = (adj.subcontractorShare ?? (roleStats[role].subCount / Math.max(1, roleStats[role].headcount)));\n          const roleHours = headcount * hoursPerMonth * utilization;\n          const subHours = roleHours * subShare;\n          const directHours = roleHours - subHours;\n          const roleDirectLabor = directHours * roleStats[role].directAvgRate;\n          const roleSubLabor = subHours * roleStats[role].subAvgRate;\n          directLabor += roleDirectLabor;\n          subcontractorLabor += roleSubLabor;\n        });\n        const indirect = directLabor * projectData.indirectCostRate;\n        const total = directLabor + subcontractorLabor + indirect;\n        const revenue = forecast.monthlyRevenue;\n        const profit = revenue - total;\n        rows.push({ month: i, revenue, directLabor, subcontractorLabor, indirect, total, profit });\n      }\n      return rows;\n    }\n\n    // Simple mode\n    const direct = employees.filter(e => !e.isSubcontractor);\n    const subs = employees.filter(e => e.isSubcontractor);\n    const directAvgRate = direct.length ? direct.reduce((s, e) => s + (e.hourlyRate || 0), 0) / direct.length : 0;\n    const subAvgRate = subs.length ? subs.reduce((s, e) => s + (e.hourlyRate || 0), 0) / subs.length : 0;\n    const totalHeadcount = employees.length;\n\n    for (let i = 1; i <= months; i++) {\n      const totalHours = totalHeadcount * hoursPerMonth * forecast.laborUtilization;\n      const subHours = totalHours * forecast.subcontractorShare;\n      const directHours = totalHours - subHours;\n      const directLabor = directHours * directAvgRate;\n      const subcontractorLabor = subHours * subAvgRate;\n      const indirect = directLabor * projectData.indirectCostRate;\n      const total = directLabor + subcontractorLabor + indirect;\n      const revenue = forecast.monthlyRevenue;\n      const profit = revenue - total;\n      rows.push({ month: i, revenue, directLabor, subcontractorLabor, indirect, total, profit });\n    }\n    return rows;\n  }, [forecast, employees, projectData.indirectCostRate]);\n\n  // PDF helpers\n  const exportFinancialSummaryPDF = () => {\n    const doc = new jsPDF();\n    doc.text('Financial Summary', 14, 16);\n    autoTable(doc, {\n      startY: 22,\n      head: [['Metric', 'Value']],\n      body: [\n        ['Contract Value', formatCurrency(projectData.contractValue)],\n        ['Actual Revenue', formatCurrency(projectData.actualRevenue)],\n        ['Total Billable Hours', projectData.totalBillableHours],\n        ['Direct Labor', formatCurrency(metrics.totalDirectLabor)],\n        ['Subcontractor Labor', formatCurrency(metrics.totalSubcontractorLabor)],\n        ['Indirect Costs', formatCurrency(metrics.indirectCosts)],\n        ['Total Costs', formatCurrency(metrics.totalCosts)],\n        ['Profit', formatCurrency(metrics.profit)]\n      ]\n    });\n    doc.save('financial-summary.pdf');\n  };\n\n  const exportTeamUtilizationPDF = () => {\n    const doc = new jsPDF();\n    doc.text('Team Utilization', 14, 16);\n    autoTable(doc, {\n      startY: 22,\n      head: [['Name','Role','Type','Hourly Rate','Actual Hours','Labor Cost']],\n      body: visibleEmployees.map(e => [\n        e.name,\n        e.role,\n        e.isSubcontractor ? 'Contractor' : 'Employee',\n        e.hourlyRate,\n        e.actualHours,\n        Math.round((e.hourlyRate || 0) * (e.actualHours || 0))\n      ])\n    });\n    doc.save('team-utilization.pdf');\n  };\n\n  const exportBudgetVsActualPDF = () => {\n    const doc = new jsPDF();\n    doc.text('Budget vs Actual', 14, 16);\n    autoTable(doc, {\n      startY: 22,\n      head: [['Category','Budget','Actual']],\n      body: [\n        ['Revenue', formatCurrency(projectData.contractValue), formatCurrency(projectData.actualRevenue)],\n        ['Direct Labor', '', formatCurrency(metrics.totalDirectLabor)],\n        ['Subcontractor Labor', '', formatCurrency(metrics.totalSubcontractorLabor)],\n        ['Indirect Costs', '', formatCurrency(metrics.indirectCosts)],\n        ['Total Costs', '', formatCurrency(metrics.totalCosts)],\n        ['Profit', '', formatCurrency(metrics.profit)]\n      ]\n    });\n    doc.save('budget-vs-actual.pdf');\n  };\n\n  // Tab button (fixed to use setActiveTab)\n  const TabButton = ({ id, label, icon: Icon }) => (\n    <button\n      onClick={() => setActiveTab(id)}\n      className={`flex items-center space-x-3 px-6 py-3 rounded-xl font-medium transition-all duration-200 ${\n        activeTab === id\n          ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105'\n          : 'bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-900 shadow-sm border border-gray-200'\n      }`}\n    >\n      <Icon size={20} />\n      <span className=\"font-semibold\">{label}</span>\n    </button>\n  );\n\n  const StatusBadge = ({ status, variant = 'default' }) => {\n    const variants = {\n      success: 'bg-green-100 text-green-800 border-green-200',\n      warning: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n      danger: 'bg-red-100 text-red-800 border-red-200',\n      info: 'bg-blue-100 text-blue-800 border-blue-200',\n      default: 'bg-gray-100 text-gray-800 border-gray-200'\n    };\n    return (\n      <span className={`px-3 py-1 rounded-full text-xs font-semibold border ${variants[variant]}`}>{status}</span>\n    );\n  };\n\n  const EditableField = ({ value, onSave, type = 'text' }) => {\n    const [editing, setEditing] = useState(false);\n    const [tempValue, setTempValue] = useState(value);\n    const handleSave = () => {\n      if (onSave) onSave(type === 'number' ? parseFloat(tempValue) || 0 : tempValue);\n      setEditing(false);\n    };\n    if (!onSave) {\n      return (\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-gray-500\">{type === 'currency' ? formatCurrency(value) : String(value)}</span>\n          <Lock size={14} className=\"text-gray-300\" />\n        </div>\n      );\n    }\n    if (editing) {\n      return (\n        <div className=\"flex items-center space-x-2\">\n          <input\n            type={type}\n            value={tempValue}\n            onChange={(e) => setTempValue(e.target.value)}\n            className=\"px-2 py-1 border rounded text-sm w-24\"\n            autoFocus\n            onKeyPress={(e) => e.key === 'Enter' && handleSave()}\n          />\n          <button onClick={handleSave} className=\"text-green-600 hover:text-green-800\"><Save size={14} /></button>\n          <button onClick={() => setEditing(false)} className=\"text-red-600 hover:text-red-800\"><X size={14} /></button>\n        </div>\n      );\n    }\n    return (\n      <div className=\"flex items-center space-x-2\">\n        <span>{type === 'currency' ? formatCurrency(value) : String(value)}</span>\n        <button onClick={() => setEditing(true)} className=\"text-gray-400 hover:text-gray-600\"><Edit3 size={14} /></button>\n      </div>\n    );\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-6\">\n        <div className=\"max-w-md w-full\">\n          <div className=\"bg-white rounded-3xl shadow-2xl overflow-hidden\">\n            <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-center\">\n              <div className=\"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                <DollarSign className=\"text-white\" size={32} />\n              </div>\n              <h1 className=\"text-2xl font-bold text-white\">Budget Manager</h1>\n              <p className=\"text-blue-100 mt-2\">Project Financial Dashboard</p>\n            </div>\n\n            <div className=\"p-8\">\n              {!showForgotPassword ? (\n                <div className=\"space-y-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Email Address</label>\n                    <input type=\"email\" value={loginForm.email} onChange={(e) => setLoginForm({ ...loginForm, email: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent\" placeholder=\"Enter your email\" required />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Password</label>\n                    <input type=\"password\" value={loginForm.password} onChange={(e) => setLoginForm({ ...loginForm, password: e.target.value })} className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent\" placeholder=\"Enter your password\" required />\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <label className=\"flex items-center space-x-2\">\n                      <input type=\"checkbox\" checked={loginForm.rememberMe} onChange={(e) => setLoginForm({ ...loginForm, rememberMe: e.target.checked })} className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\" />\n                      <span className=\"text-sm text-gray-600\">Remember me</span>\n                    </label>\n                    <button onClick={() => setShowForgotPassword(true)} className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\">Forgot password?</button>\n                  </div>\n                  {loginError && <div className=\"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-xl text-sm\">{loginError}</div>}\n                  <button onClick={handleLogin} disabled={isLoading} className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50\">{isLoading ? (<div className=\"flex items-center justify-center space-x-2\"><div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div><span>Signing in...</span></div>) : ('Sign In')}</button>\n                </div>\n              ) : (\n                <div>\n                  <button onClick={() => setShowForgotPassword(false)} className=\"flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-6\"><span>←</span><span>Back to login</span></button>\n                  <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Forgot Password</h2>\n                  <p className=\"text-gray-600 mb-6\">Enter your email address and we'll send you instructions to reset your password.</p>\n                  <div className=\"space-y-6\">\n                    <div>\n                      <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Email Address</label>\n                      <input type=\"email\" value={forgotPasswordEmail} onChange={(e) => setForgotPasswordEmail(e.target.value)} className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent\" placeholder=\"Enter your email\" required />\n                    </div>\n                    {forgotPasswordStatus && (\n                      <div className={`px-4 py-3 rounded-xl text-sm ${forgotPasswordStatus.type === 'success' ? 'bg-green-50 border border-green-200 text-green-800' : 'bg-red-50 border border-red-200 text-red-800'}`}>{forgotPasswordStatus.message}</div>\n                    )}\n                    <button onClick={handleForgotPassword} disabled={isLoading} className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 disabled:opacity-50\">{isLoading ? (<div className=\"flex items-center justify-center space-x-2\"><div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div><span>Sending...</span></div>) : ('Send Reset Instructions')}</button>\n                  </div>\n                </div>\n              )}\n              <div className=\"mt-8 p-4 bg-gray-50 rounded-xl\">\n                <p className=\"text-xs font-semibold text-gray-700 mb-3\">Demo Credentials:</p>\n                <div className=\"space-y-2 text-xs text-gray-600\">\n                  <div><strong>Admin:</strong> admin@company.com / admin123</div>\n                  <div><strong>Manager:</strong> manager@company.com / manager123</div>\n                  <div><strong>Employee:</strong> employee@company.com / employee123</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50\">\n      <div className=\"bg-white border-b border-gray-200 sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center\">\n                  <DollarSign className=\"text-white\" size={20} />\n                </div>\n                <div>\n                  <h1 className=\"text-2xl font-bold text-gray-900\">Budget Manager</h1>\n                  <p className=\"text-gray-500 text-sm\">SEAS Project Dashboard</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"flex items-center space-x-3 px-3 py-2 bg-gray-50 rounded-xl\">\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold text-sm ${currentUser?.role === 'admin' ? 'bg-blue-500' : currentUser?.role === 'manager' ? 'bg-green-500' : 'bg-gray-500'}`}>\n                  {currentUser?.avatar}\n                </div>\n                <div className=\"text-sm\">\n                  <div className=\"font-medium text-gray-900\">{currentUser?.name}</div>\n                  <div className=\"text-gray-500\">{currentUser?.role}</div>\n                </div>\n              </div>\n              <button onClick={handleLogout} className=\"px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors text-sm\">Logout</button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        <div className=\"flex space-x-4 mb-8 overflow-x-auto pb-2\">\n          <TabButton id=\"overview\" label=\"Overview\" icon={TrendingUp} />\n          <TabButton id=\"employees\" label=\"Team\" icon={Users} />\n          {hasPermission('viewFinancials') && (<TabButton id=\"financials\" label=\"Financials\" icon={DollarSign} />)}\n          {hasPermission('viewReports') && (<TabButton id=\"reports\" label=\"Reports\" icon={FileText} />)}\n          {hasPermission('viewFinancials') && (<TabButton id=\"forecast\" label=\"Forecast\" icon={TrendingUp} />)}\n          {hasPermission('manageUsers') && (<TabButton id=\"admin\" label=\"Admin\" icon={Shield} />)}\n          <TabButton id=\"help\" label=\"Help\" icon={HelpCircle} />\n        </div>\n\n        {activeTab === 'overview' && (\n          <div className=\"space-y-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              <MetricCard title=\"Contract Value\" value={formatCurrency(projectData.contractValue)} icon={DollarSign} color=\"from-blue-500 to-blue-600\" />\n              <MetricCard title=\"Actual Revenue\" value={formatCurrency(projectData.actualRevenue)} icon={TrendingUp} color=\"from-emerald-500 to-green-600\" />\n              <MetricCard title=\"Total Hours\" value={projectData.actualHoursToDate.toLocaleString()} icon={Clock} color=\"from-purple-500 to-purple-600\" />\n              <MetricCard title=\"Active Team\" value={employees.filter(e => e.status === 'active').length} subtitle={`${employees.filter(e => !e.isSubcontractor && e.status === 'active').length} employees, ${employees.filter(e => e.isSubcontractor && e.status === 'active').length} contractors`} icon={Users} color=\"from-orange-500 to-amber-600\" />\n            </div>\n\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\">\n                <div className=\"p-6 border-b border-gray-100\"><h3 className=\"text-lg font-bold text-gray-900\">Cost Breakdown</h3></div>\n                <div className=\"p-6 space-y-4\">\n                  <div className=\"flex items-center justify-between\"><span className=\"text-gray-700\">Direct Labor</span><span className=\"font-bold\">{formatCurrency(metrics.totalDirectLabor)}</span></div>\n                  <div className=\"flex items-center justify-between\"><span className=\"text-gray-700\">Subcontractor Labor</span><span className=\"font-bold\">{formatCurrency(metrics.totalSubcontractorLabor)}</span></div>\n                  <div className=\"flex items-center justify-between\"><span className=\"text-gray-700\">Indirect Costs</span><span className=\"font-bold\">{formatCurrency(metrics.indirectCosts)}</span></div>\n                </div>\n              </div>\n\n              <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\">\n                <div className=\"p-6 border-b border-gray-100\"><h3 className=\"text-lg font-bold text-gray-900\">Performance</h3></div>\n                <div className=\"p-6 space-y-4\">\n                  <div className=\"flex items-center justify-between\"><span className=\"text-gray-700\">Total Costs</span><span className=\"font-bold\">{formatCurrency(metrics.totalCosts)}</span></div>\n                  <div className=\"flex items-center justify-between\"><span className=\"text-gray-700\">Profit</span><span className={`font-bold ${metrics.profit >= 0 ? 'text-green-600' : 'text-red-600'}`}>{formatCurrency(metrics.profit)}</span></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'employees' && (\n          <div className=\"space-y-8\">\n            <div>\n              <h2 className=\"text-3xl font-bold text-gray-900\">Team Management</h2>\n              <p className=\"text-gray-500 mt-1\">Manage your project team and contractors</p>\n            </div>\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\">\n              <div className=\"p-6 border-b border-gray-100\"><h3 className=\"text-lg font-bold text-gray-900\">Team Members</h3></div>\n              <div className=\"px-6 pt-4\">\n                <div className=\"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-3 md:space-y-0\">\n                  <input type=\"text\" value={teamQuery} onChange={(e) => setTeamQuery(e.target.value)} placeholder=\"Search name, role, or company\" className=\"w-full md:w-1/3 px-3 py-2 border border-gray-300 rounded-lg text-sm\" />\n                  <select value={teamFilters.status} onChange={(e) => setTeamFilters({ ...teamFilters, status: e.target.value })} className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm\">\n                    <option value=\"all\">All Statuses</option>\n                    <option value=\"active\">Active</option>\n                    <option value=\"inactive\">Inactive</option>\n                  </select>\n                  <select value={teamFilters.type} onChange={(e) => setTeamFilters({ ...teamFilters, type: e.target.value })} className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm\">\n                    <option value=\"all\">All Types</option>\n                    <option value=\"employee\">Employee</option>\n                    <option value=\"contractor\">Contractor</option>\n                  </select>\n                  <select value={`${teamSort.field}:${teamSort.direction}`} onChange={(e) => { const [field, direction] = e.target.value.split(':'); setTeamSort({ field, direction }); }} className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm\">\n                    <option value=\"name:asc\">Name (A→Z)</option>\n                    <option value=\"name:desc\">Name (Z→A)</option>\n                    <option value=\"role:asc\">Role (A→Z)</option>\n                    <option value=\"role:desc\">Role (Z→A)</option>\n                    <option value=\"type:asc\">Type (Emp→Ctr)</option>\n                    <option value=\"type:desc\">Type (Ctr→Emp)</option>\n                    <option value=\"annualSalary:asc\">Salary (Low→High)</option>\n                    <option value=\"annualSalary:desc\">Salary (High→Low)</option>\n                    <option value=\"hourlyRate:asc\">Rate (Low→High)</option>\n                    <option value=\"hourlyRate:desc\">Rate (High→Low)</option>\n                    <option value=\"actualHours:asc\">Hours (Low→High)</option>\n                    <option value=\"actualHours:desc\">Hours (High→Low)</option>\n                    <option value=\"status:asc\">Status (A→Z)</option>\n                    <option value=\"status:desc\">Status (Z→A)</option>\n                  </select>\n                </div>\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50 border-b border-gray-200\">\n                    <tr>\n                      <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase\">Name</th>\n                      <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase\">Role</th>\n                      <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase\">Type</th>\n                      <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\">Comp Type</th>\n                      <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\">Annual Salary</th>\n                      <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\">Hourly Rate</th>\n                      <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase\">Actual Hours</th>\n                      <th className=\"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase\">Status</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-gray-200\">\n                    {visibleEmployees.map((employee) => (\n                      <tr key={employee.id} className=\"hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">\n                          <div className=\"flex items-center space-x-3\">\n                            <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${employee.isSubcontractor ? 'bg-blue-500' : 'bg-emerald-500'}`}>{employee.name.split(' ').map(n => n[0]).join('').slice(0, 2)}</div>\n                            <div>\n                              <EditableField value={employee.name} onSave={hasPermission('editEmployees') ? (value) => handleSaveEmployee(employee.id, 'name', value) : null} />\n                              {employee.company && <div className=\"text-xs text-gray-500\">{employee.company}</div>}\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4\"><EditableField value={employee.role} onSave={hasPermission('editEmployees') ? (value) => handleSaveEmployee(employee.id, 'role', value) : null} /></td>\n                        <td className=\"px-6 py-4\"><span>{employee.isSubcontractor ? 'Contractor' : 'Employee'}</span></td>\n                        <td className=\"px-6 py-4 text-right\">\n                          {hasPermission('viewSalaries') ? (\n                            <EditableField value={employee.compType || (employee.isSubcontractor ? 'hourly' : 'hourly')} onSave={hasPermission('editEmployees') ? (value) => handleSaveEmployee(employee.id, 'compType', value) : null} type=\"text\" />\n                          ) : (<span className=\"text-gray-400\">***</span>)}\n                        </td>\n                        <td className=\"px-6 py-4 text-right\">\n                          {hasPermission('viewSalaries') ? (\n                            <EditableField value={employee.annualSalary || 0} onSave={hasPermission('editEmployees') ? (value) => handleSaveEmployee(employee.id, 'annualSalary', value) : null} type=\"number\" />\n                          ) : (<span className=\"text-gray-400\">***</span>)}\n                        </td>\n                        <td className=\"px-6 py-4 text-right\">\n                          {hasPermission('viewSalaries') ? (\n                            <EditableField value={employee.hourlyRate} onSave={hasPermission('editEmployees') ? (value) => handleSaveEmployee(employee.id, 'hourlyRate', value) : null} type=\"number\" />\n                          ) : (<span className=\"text-gray-400\">***</span>)}\n                        </td>\n                        <td className=\"px-6 py-4 text-right\"><EditableField value={employee.actualHours} onSave={hasPermission('editEmployees') ? (value) => handleSaveEmployee(employee.id, 'actualHours', value) : null} type=\"number\" /></td>\n                        <td className=\"px-6 py-4 text-center\"><StatusBadge status={employee.status} variant={employee.status === 'active' ? 'success' : 'default'} /></td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'financials' && hasPermission('viewFinancials') && (\n          <div className=\"space-y-8\">\n            <div>\n              <h2 className=\"text-3xl font-bold text-gray-900\">Financial Settings</h2>\n              <p className=\"text-gray-500 mt-1\">Configure project financial parameters</p>\n            </div>\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Project Financials</h3>\n              <div className=\"space-y-6\">\n                <div className=\"flex items-center justify-between\"><label className=\"text-gray-700 font-medium\">Contract Value</label><EditableField value={projectData.contractValue} onSave={hasPermission('editFinancials') ? (value) => setProjectData({ ...projectData, contractValue: value }) : null} type=\"currency\" /></div>\n                <div className=\"flex items-center justify-between\"><label className=\"text-gray-700 font-medium\">Actual Revenue</label><EditableField value={projectData.actualRevenue} onSave={hasPermission('editFinancials') ? (value) => setProjectData({ ...projectData, actualRevenue: value }) : null} type=\"currency\" /></div>\n                <div className=\"flex items-center justify-between\"><label className=\"text-gray-700 font-medium\">Total Billable Hours</label><EditableField value={projectData.totalBillableHours} onSave={hasPermission('editFinancials') ? (value) => setProjectData({ ...projectData, totalBillableHours: value }) : null} type=\"number\" /></div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'reports' && hasPermission('viewReports') && (\n          <div className=\"space-y-8\">\n            <div>\n              <h2 className=\"text-3xl font-bold text-gray-900\">Project Reports</h2>\n              <p className=\"text-gray-500 mt-1\">Generate and export project reports</p>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center space-x-3 mb-4\"><div className=\"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center\"><FileText className=\"text-blue-600\" size={24} /></div><div><h3 className=\"text-lg font-bold text-gray-900\">Financial Summary</h3><p className=\"text-gray-500 text-sm\">Complete financial overview</p></div></div>\n                <div className=\"flex space-x-2\">\n                  <button onClick={() => { const rows = [['Metric','Value'], ['Contract Value', projectData.contractValue], ['Actual Revenue', projectData.actualRevenue], ['Total Billable Hours', projectData.totalBillableHours], ['Direct Labor', metrics.totalDirectLabor], ['Subcontractor Labor', metrics.totalSubcontractorLabor], ['Indirect Costs', metrics.indirectCosts], ['Total Costs', metrics.totalCosts], ['Profit', metrics.profit]]; downloadCSV(rows, 'financial-summary.csv'); }} className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">CSV</button>\n                  <button onClick={exportFinancialSummaryPDF} className=\"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors\">PDF</button>\n                </div>\n              </div>\n              <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center space-x-3 mb-4\"><div className=\"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center\"><Users className=\"text-green-600\" size={24} /></div><div><h3 className=\"text-lg font-bold text-gray-900\">Team Utilization</h3><p className=\"text-gray-500 text-sm\">Employee hours and productivity</p></div></div>\n                <div className=\"flex space-x-2\">\n                  <button onClick={() => { const header = ['Name','Role','Type','Hourly Rate','Actual Hours','Labor Cost']; const rows = [header].concat(visibleEmployees.map(e => [e.name, e.role, e.isSubcontractor ? 'Contractor' : 'Employee', e.hourlyRate, e.actualHours, Math.round((e.hourlyRate || 0) * (e.actualHours || 0))])); downloadCSV(rows, 'team-utilization.csv'); }} className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\">CSV</button>\n                  <button onClick={exportTeamUtilizationPDF} className=\"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors\">PDF</button>\n                </div>\n              </div>\n              <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center space-x-3 mb-4\"><div className=\"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center\"><TrendingUp className=\"text-purple-600\" size={24} /></div><div><h3 className=\"text-lg font-bold text-gray-900\">Budget vs Actual</h3><p className=\"text-gray-500 text-sm\">Performance analysis</p></div></div>\n                <div className=\"flex space-x-2\">\n                  <button onClick={() => { const rows = [['Category','Budget','Actual'], ['Revenue', projectData.contractValue, projectData.actualRevenue], ['Direct Labor','', metrics.totalDirectLabor], ['Subcontractor Labor','', metrics.totalSubcontractorLabor], ['Indirect Costs','', metrics.indirectCosts], ['Total Costs','', metrics.totalCosts], ['Profit','', metrics.profit]]; downloadCSV(rows, 'budget-vs-actual.csv'); }} className=\"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\">CSV</button>\n                  <button onClick={exportBudgetVsActualPDF} className=\"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-800 transition-colors\">PDF</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'forecast' && (\n          <div className=\"space-y-8\">\n            <div>\n              <h2 className=\"text-3xl font-bold text-gray-900\">Forecast</h2>\n              <p className=\"text-gray-500 mt-1\">Model future budget scenarios</p>\n            </div>\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n              <div className=\"mb-4\">\n                <div className=\"inline-flex rounded-lg border border-gray-200 overflow-hidden\">\n                  <button onClick={() => setForecast({ ...forecast, mode: 'simple' })} className={`px-4 py-2 text-sm ${forecast.mode === 'simple' ? 'bg-gray-900 text-white' : 'bg-white text-gray-700'}`}>Simple</button>\n                  <button onClick={() => setForecast({ ...forecast, mode: 'role' })} className={`px-4 py-2 text-sm ${forecast.mode === 'role' ? 'bg-gray-900 text-white' : 'bg-white text-gray-700'}`}>By Role</button>\n                </div>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n                <div><label className=\"block text-xs text-gray-500 mb-1\">Months</label><input type=\"number\" min=\"1\" value={forecast.months} onChange={(e) => setForecast({ ...forecast, months: Math.max(1, parseInt(e.target.value || '1', 10)) })} className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\" /></div>\n                <div><label className=\"block text-xs text-gray-500 mb-1\">Monthly Revenue</label><input type=\"number\" value={forecast.monthlyRevenue} onChange={(e) => setForecast({ ...forecast, monthlyRevenue: parseFloat(e.target.value || '0') })} className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\" /></div>\n                <div><label className=\"block text-xs text-gray-500 mb-1\">Labor Utilization %</label><input type=\"number\" value={Math.round(forecast.laborUtilization * 100)} onChange={(e) => setForecast({ ...forecast, laborUtilization: Math.min(1, Math.max(0, (parseFloat(e.target.value || '0') / 100))) })} className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\" /></div>\n                <div><label className=\"block text-xs text-gray-500 mb-1\">Subcontractor Share %</label><input type=\"number\" value={Math.round(forecast.subcontractorShare * 100)} onChange={(e) => setForecast({ ...forecast, subcontractorShare: Math.min(1, Math.max(0, (parseFloat(e.target.value || '0') / 100))) })} className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\" /></div>\n                <div><label className=\"block text-xs text-gray-500 mb-1\">Annual Raise %</label><input type=\"number\" value={Math.round(forecast.annualRaisePct * 100)} onChange={(e) => setForecast({ ...forecast, annualRaisePct: Math.max(0, (parseFloat(e.target.value || '0') / 100)) })} className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\" /></div>\n              </div>\n              {forecast.mode === 'role' && (\n                <div className=\"mt-4\">\n                  <h4 className=\"text-sm font-semibold text-gray-700 mb-2\">Role Adjustments</h4>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n                    {Array.from(new Set(employees.map(e => e.role || 'Unknown'))).map(role => (\n                      <div key={role} className=\"p-3 border rounded-lg\">\n                        <div className=\"text-xs font-medium text-gray-600 mb-2\">{role}</div>\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <label className=\"text-xs text-gray-500 w-28\">Headcount</label>\n                          <input type=\"number\" className=\"flex-1 px-2 py-1 border rounded text-sm\" value={forecast.roleAdjustments?.[role]?.headcount ?? (employees.filter(e => (e.role || 'Unknown') === role).length)} onChange={(e) => setForecast({ ...forecast, roleAdjustments: { ...forecast.roleAdjustments, [role]: { ...(forecast.roleAdjustments?.[role] || {}), headcount: parseInt(e.target.value || '0', 10) } } })} />\n                        </div>\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <label className=\"text-xs text-gray-500 w-28\">Utilization %</label>\n                          <input type=\"number\" className=\"flex-1 px-2 py-1 border rounded text-sm\" value={Math.round(((forecast.roleAdjustments?.[role]?.utilization ?? forecast.laborUtilization) * 100))} onChange={(e) => setForecast({ ...forecast, roleAdjustments: { ...forecast.roleAdjustments, [role]: { ...(forecast.roleAdjustments?.[role] || {}), utilization: Math.min(1, Math.max(0, (parseFloat(e.target.value || '0') / 100))) } } })} />\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <label className=\"text-xs text-gray-500 w-28\">Sub Share %</label>\n                          <input type=\"number\" className=\"flex-1 px-2 py-1 border rounded text-sm\" value={Math.round(((forecast.roleAdjustments?.[role]?.subcontractorShare ?? (employees.filter(e => (e.role || 'Unknown') === role && e.isSubcontractor).length / Math.max(1, employees.filter(e => (e.role || 'Unknown') === role).length))) * 100))} onChange={(e) => setForecast({ ...forecast, roleAdjustments: { ...forecast.roleAdjustments, [role]: { ...(forecast.roleAdjustments?.[role] || {}), subcontractorShare: Math.min(1, Math.max(0, (parseFloat(e.target.value || '0') / 100))) } } })} />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n              <div className=\"mt-6 overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"bg-gray-50 border-b border-gray-200\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase\">Month</th>\n                      <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\">Revenue</th>\n                      <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\">Direct Labor</th>\n                      <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\">Subcontractors</th>\n                      <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\">Indirect</th>\n                      <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\">Total Cost</th>\n                      <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase\">Profit</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-gray-200\">\n                    {forecastRows.map((r) => (\n                      <tr key={r.month}>\n                        <td className=\"px-4 py-3\">{r.month}</td>\n                        <td className=\"px-4 py-3 text-right\">{formatCurrency(r.revenue)}</td>\n                        <td className=\"px-4 py-3 text-right\">{formatCurrency(r.directLabor)}</td>\n                        <td className=\"px-4 py-3 text-right\">{formatCurrency(r.subcontractorLabor)}</td>\n                        <td className=\"px-4 py-3 text-right\">{formatCurrency(r.indirect)}</td>\n                        <td className=\"px-4 py-3 text-right\">{formatCurrency(r.total)}</td>\n                        <td className=\"px-4 py-3 text-right\">{formatCurrency(r.profit)}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <div className=\"mt-4 flex justify-end\">\n                <button onClick={() => { const header = ['Month','Revenue','Direct Labor','Subcontractors','Indirect','Total Cost','Profit']; const rows = [header].concat(forecastRows.map(r => [r.month, r.revenue, r.directLabor, r.subcontractorLabor, r.indirect, r.total, r.profit])); downloadCSV(rows, 'forecast.csv'); }} className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\">Export Forecast CSV</button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'admin' && hasPermission('manageUsers') && (\n          <div className=\"space-y-8\">\n            <div>\n              <h2 className=\"text-3xl font-bold text-gray-900\">System Administration</h2>\n              <p className=\"text-gray-500 mt-1\">Manage users, permissions, and system settings</p>\n            </div>\n            <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4\">User Management</h3>\n              <div className=\"space-y-4\">\n                {mockUsers.map(user => (\n                  <div key={user.id} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\n                    <div className=\"flex items-center space-x-3\">\n                      <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${user.role === 'admin' ? 'bg-blue-500' : user.role === 'manager' ? 'bg-green-500' : 'bg-gray-500'}`}>{user.avatar}</div>\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{user.name}</div>\n                        <div className=\"text-sm text-gray-500\">{user.email}</div>\n                      </div>\n                    </div>\n                    <StatusBadge status={user.role} variant=\"info\" />\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'help' && (\n          <div className=\"space-y-8\">\n            <div>\n              <h2 className=\"text-3xl font-bold text-gray-900\">Help & Documentation</h2>\n              <p className=\"text-gray-500 mt-1\">Get help with using the budget management system</p>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n              <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4\">User Roles & Permissions</h3>\n                <div className=\"space-y-3 text-sm text-gray-600\">\n                  <p><strong>Admin:</strong> Full access to all features including user management</p>\n                  <p><strong>Manager:</strong> Can view salaries and edit employees, but can't edit financial settings</p>\n                  <p><strong>Employee:</strong> Limited view-only access to reports and basic information</p>\n                </div>\n              </div>\n              <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Quick Actions</h3>\n                <div className=\"space-y-3\">\n                  <button className=\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">📊 Understanding Financial Metrics</button>\n                  <button className=\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">👥 Managing Team Members</button>\n                  <button className=\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">🔐 User Permissions Guide</button>\n                  <button className=\"w-full text-left px-4 py-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">⚙️ System Configuration</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst TabButton = ({ id, label, icon: Icon }) => (\n  <button onClick={() => window.__setActiveTab?.(id)} className={`flex items-center space-x-3 px-6 py-3 rounded-xl font-medium transition-all duration-200`}>\n    <Icon size={20} />\n    <span className=\"font-semibold\">{label}</span>\n  </button>\n);\n\nconst MetricCard = ({ title, value, subtitle, icon: Icon, color }) => (\n  <div className={`bg-gradient-to-br ${color} p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300`}>\n    <div className=\"flex items-center justify-between\">\n      <div>\n        <p className=\"text-white/80 text-sm font-medium\">{title}</p>\n        <p className=\"text-white text-2xl font-bold mt-1\">{value}</p>\n        {subtitle && <p className=\"text-white/60 text-xs mt-1\">{subtitle}</p>}\n      </div>\n      <div className=\"bg-white/20 p-3 rounded-xl\"><Icon size={28} className=\"text-white\" /></div>\n    </div>\n  </div>\n);\n\nexport default ProjectBudgetApp;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}